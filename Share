@page "/trade"

<h3 class="text-2xl font-semibold mb-6">ðŸ“Š Trade Graphs Dashboard</h3>

<div class="graph-dropdown">
    <label class="graph-label" for="graphSelector">Select a Graph:</label>
    <select id="graphSelector" @onchange="OnGraphChange" class="graph-select">
        <option value="">-- Choose a Graph --</option>
        <option value="sourceSystemTradeChart">OTC contracts booked by source system in last 7 days</option>
        <option value="marketEventChart">Market Events in Last Month</option>
        <option value="stpTradeChart">STP Workflow Trades (Last 4 Years)</option>
        <option value="murexErrorFix">Murex Error Fixes (Past 24 Weeks)</option>
    </select>
</div>

@if (SelectedGraph == "sourceSystemTradeChart")
{
    <SourceSystemTradeChart />
}
else if (SelectedGraph == "marketEventChart")
{
    <MarketEventChart />
}
else if (SelectedGraph == "stpTradeChart")
{
    <OtcStpTradesChart />
}
else if (SelectedGraph == "murexErrorFix")
{
    <MurexErrorFixChart />
}

<style>
    .graph-dropdown {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        max-width: 400px;
        margin-bottom: 2rem;
    }

    .graph-label {
        font-size: 1rem;
        color: #444;
    }

    .graph-select {
        padding: 0.6rem 1rem;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        background-color: #fafafa;
        color: #333;
        transition: border-color 0.2s;
    }

    .graph-select:focus {
        border-color: #4a90e2;
        outline: none;
    }
</style>

@code {
    private string? SelectedGraph;

    private void OnGraphChange(ChangeEventArgs e)
    {
        SelectedGraph = e.Value?.ToString();
    }
}
